(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(4),i=n.n(o),l=n(18),s=n(69),c=n(19),m=n(24),d=n(25),u=n(27),p=n(26),g=n(28),h=n(10),f=n(7),k=n(67),E=n.n(k),v=n(22),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^[\w\d-.]+@[\w]+\.[\w]{2,}$/.test(e.trim())},b=function(e){return/^(?=.*[a-z])(?=.*[A-Z].*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(e)},y="GET_POKEMONS",O="GET_POKEMON_BY_ID_REQUEST",w="GET_POKEMON_BY_ID_SUCCESS",j="GET_POKEMON_BY_ID_FAILURE",C="FILTER_POKEMON",N="REGISTER_USER",U="EDIT_USER",S="LOGGING_USER",P="LOG_OUT",L=function(e){return function(t){return t({type:N,payload:{user:e}})}},I=function(e){return function(t){return t({type:U,payload:{user:e}})}},x=function(e){return function(t){return t({type:S,payload:{user:e}})}},D=function(){return function(e){return e({type:P})}},T=(n(120),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,email:n.props.loggedUser.email,emailChanged:!1,password:"",passwordChanged:!1,name:n.props.loggedUser.name,nameChanged:!1,emailError:!1,weakPass:!1},n.handleLogout=function(){var e=n.props,t=e.logout;e.history.push("/"),t()},n.handleClickEdit=function(){n.setState({visible:!0})},n.hide=function(){n.setState({visible:!1})},n.onConfirm=function(){var e=n.props,t=e.editUser,a=e.loggedUser,r=n.state,o=r.email,i=r.password,l=r.name,s=r.emailChanged,c=r.passwordChanged,m=r.nameChanged,d={id:a.id};s&&(d.email=o),c&&(d.password=i),m&&(d.name=l),t(d),n.hide()},n.handleChange=function(e,t){var a;n.setState((a={},Object(v.a)(a,e,t),Object(v.a)(a,"".concat(e,"Changed"),!0),a))},n.handleBlurEmail=function(){var e=n.state.email;n.setState({emailError:!_(e)})},n.strongPassValidator=function(){var e=n.state.password;n.setState({weakPass:!b(e)})},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loggedUser,o=t.history,i=this.state,l=i.visible,s=i.name,c=i.email,m=i.password,d=i.emailError,u=i.weakPass,p=[];return p.push({secondary:!0,children:"Cancel",onClick:this.hide}),p.push(r.a.createElement(f.a,{flat:!0,disabled:d||u,primary:!0,onClick:this.onConfirm},"Confirm")),r.a.createElement(a.Fragment,null,r.a.createElement("section",{className:"menu-container"},r.a.createElement(f.a,{icon:!0,primary:!0,onClick:function(){return o.goBack()}},"chevron_left"),r.a.createElement("h1",{className:"menu-container__title"},"Welcome ",n.name),r.a.createElement("div",null,r.a.createElement(f.a,{icon:!0,primary:!0,onClick:this.handleClickEdit},"account_circle"),r.a.createElement(f.a,{icon:!0,primary:!0,onClick:this.handleLogout},"close"))),r.a.createElement(f.f,{id:"edit-profile",visible:l,onHide:this.hide,actions:p,title:"My Profile",width:360,className:"dialog-container",titleClassName:"dialog-container__title"},r.a.createElement("div",null,r.a.createElement(f.g,{className:"dialog-container__text-field",id:"name",label:"Trainer Name",lineDirection:"center",onChange:function(t){return e.handleChange("name",t)},value:s}),r.a.createElement(f.g,{className:"dialog-container__text-field",id:"email",label:"Email",error:d,errorText:"you should use a valid email",lineDirection:"center",onBlur:this.handleBlurEmail,onChange:function(t){return e.handleChange("email",t)},placeholder:"e.g: hello@hello.com",value:c}),r.a.createElement(f.g,{className:"dialog-container__text-field",id:"password",error:u,errorText:"Password must have 2 upper case letter, a length of 8 letters minimun a number and a special character",label:"New Password",lineDirection:"center",onChange:function(t){return e.handleChange("password",t)},onBlur:this.strongPassValidator,type:"password",value:m}))))}}]),t}(a.Component)),B=Object(c.d)(Object(l.b)(function(e){return{loggedUser:e.users.loggedInUser}},function(e){return Object(h.b)({logout:D,editUser:I},e)})(T)),R=function(e){var t=e.pokemon,n=e.history,a="/pokemons"===n.location.pathname?"pokemon/".concat(t.id):"/pokemon/".concat(t.id);return r.a.createElement(f.b,{key:t.id,className:"pokemon-list-container__pokemon-card",onClick:function(){return n.push(a)}},r.a.createElement(f.d,{className:"pokemon-list-container__pokemon-card-title",title:"".concat(t.name," #").concat(t.id)}),r.a.createElement(f.c,{className:"pokemon-list-container__pokemon-card-body"},r.a.createElement("img",{alt:t.name,className:"pokemon-list-container__pokemon-card-image",src:t.sprites.front_default}),r.a.createElement("div",{className:"pokemon-list-container__pokemon-card-type-container"},t.types.map(function(e){return r.a.createElement("span",{className:"pokemon-list-container__pokemon-card-type",key:e.slot},e.type.name)}))))},M=n(6),F=n(15),G=n.n(F),V=function(e){return function(t){return G.a.get("https://pokeapi.co/api/v2/pokemon",{params:{limit:50,offset:50*e}}).then(function(e){var n=e.data,a=n.count,r=n.results;G.a.all(r.map(function(e){return G.a.get(e.url).then(function(e){var t=e.data;return Object(M.a)({},t)})})).then(function(e){t({type:y,payload:{pokemons:e,count:a}})})})}},A=function(e){return function(t){t({type:O}),G.a.all([G.a.get("https://pokeapi.co/api/v2/pokemon/".concat(e)),G.a.get("https://pokeapi.co/api/v2/pokemon-species/".concat(e)).then(function(e){var t=e.data.evolution_chain.url;return G.a.get(t).then(function(e){var t=e.data.chain,n=t.evolves_to,a=t.species;return G.a.all(function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.name)return t.length||a.push(G.a.get(n.url.replace("pokemon-species","pokemon")).then(function(e){return e.data})),t.forEach(function(t){a.push(G.a.get(n.url.replace("pokemon-species","pokemon")).then(function(e){return e.data})),e(t.evolves_to,t.species,a)}),a}(n,a))})})]).then(G.a.spread(function(n,a){var r=[],o=new Map,i=!0,l=!1,s=void 0;try{for(var c,m=a[Symbol.iterator]();!(i=(c=m.next()).done);i=!0){var d=c.value;o.has(d.id)||d.id===e||(o.set(d.id,!0),r.push(Object(M.a)({},d)))}}catch(u){l=!0,s=u}finally{try{i||null==m.return||m.return()}finally{if(l)throw s}}t({type:w,payload:{pokemon:n.data,evolution_chain:r}})})).catch(function(){t({type:j})})}},J=function(e){return function(t){return t({type:C,payload:e})}},K=(n(143),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={filterValue:""},n.handleFilter=function(e){var t=n.props.filterPokemons;n.setState({filterValue:e}),t(e)},n.handleLoadMore=function(e){(0,n.props.getPokemons)(e)},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pokemons,n=e.getPokemons,a=e.loggedUser,r=e.history;a.logged||r.push("/"),t.pokemonList.length||n(0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.history,a=t.pokemons,o=this.state.filterValue;return r.a.createElement("section",{className:"pokemon-list-container"},r.a.createElement(B,null),r.a.createElement("div",{className:"pokemon-list-container__filter-container"},r.a.createElement(f.g,{className:"pokemon-list-container__filter",id:"filter",label:"search",lineDirection:"center",onChange:function(t){return e.handleFilter(t)},value:o})),o&&(a.pokemonListFiltered.length?r.a.createElement("ul",{className:"pokemon-list-container__pokemon-card-container"},a.pokemonListFiltered.map(function(e){return r.a.createElement(R,{key:e.id,pokemon:e,history:n})})):r.a.createElement("div",{className:"pokemon-list-container__no-pokemons"},"Not pokemons found")),a.pokemonList.length&&!o?r.a.createElement(E.a,{pageStart:0,loadMore:this.handleLoadMore,hasMore:a.pokemonList.length<=a.pokemonCount,loader:r.a.createElement(f.e,{key:0,id:"pokemon-loader"})},r.a.createElement("ul",{className:"pokemon-list-container__pokemon-card-container"},a.pokemonListFiltered.map(function(e){return r.a.createElement(R,{key:e.id,pokemon:e,history:n})}))):null)}}]),t}(a.Component)),W=Object(l.b)(function(e){return{pokemons:e.pokemons,loggedUser:e.users.loggedInUser}},function(e){return Object(h.b)({getPokemons:V,filterPokemons:J},e)})(K),Y=n(36),$=(n(144),Object(l.b)(function(e){var t=e.pokemons,n=e.users;return{pokemon:t.pokemon,loggedUser:n.loggedInUser}},function(e){return Object(h.b)({getPokemonById:A},e)})(function(e){var t=Object(a.useState)(Object(M.a)({},e.pokemon)),n=Object(Y.a)(t,2),o=n[0],i=n[1],l=Object(a.useState)(parseInt(e.match.params.id)),s=Object(Y.a)(l,2),c=s[0],m=s[1],d=Object(a.useState)(!1),u=Object(Y.a)(d,2),p=u[0],g=u[1],h=Object(a.useRef)(Object(M.a)({},o)),k=Object(a.useRef)(c),E=JSON.stringify(h.current)!==JSON.stringify(e.pokemon),v=k.current!==parseInt(e.match.params.id);if(Object(a.useEffect)(function(){if(!e.loggedUser.logged)return e.history.push("/");E&&(h.current=Object(M.a)({},e.pokemon),i(Object(M.a)({},e.pokemon))),v&&(m(parseInt(e.match.params.id)),g(!1)),o.data.id===c||o.loading||p||(g(!0),e.getPokemonById(c))},[E,c,e,e.pokemon,o.data.id,o.loading,p,v]),o.loading||!o.data.id)return r.a.createElement(f.e,{id:"details-loader"});if(o.error)return r.a.createElement("div",null,"Something went wrong :(");return r.a.createElement("section",null,r.a.createElement(B,null),r.a.createElement("div",{className:"pokemon-detail-container"},r.a.createElement("h2",{className:"pokemon-detail-container__title"},o.data.name," #",o.data.id),r.a.createElement("div",{className:"pokemon-detail-container__image-container"},Object.keys(o.data.sprites).filter(function(e){return o.data.sprites[e]}).map(function(e,t){return r.a.createElement("img",{alt:o.data.name,key:t,className:"pokemon-detail-container__image",src:o.data.sprites[e]})})),r.a.createElement("div",{className:"pokemon-detail-container__details"},r.a.createElement("div",{className:"pokemon-detail-container__details-item"},r.a.createElement("strong",null,"Height: ")," ",o.data.height),r.a.createElement("div",{className:"pokemon-detail-container__details-item"},r.a.createElement("strong",null,"Weight: ")," ",o.data.weight),r.a.createElement("div",{className:"pokemon-detail-container__details-item"},r.a.createElement("strong",null,"Abilities: "),r.a.createElement("ul",null,o.data.abilities.map(function(e){return r.a.createElement("li",{key:e.slot},e.ability.name)}))),r.a.createElement("div",{className:"pokemon-detail-container__details-item"},o.data.types.map(function(e){return r.a.createElement("span",{className:"pokemon-detail-container__type",key:e.slot},e.type.name)})))),r.a.createElement("div",{className:"pokemon-evolution-container"},o.evolution_chain.length?r.a.createElement(a.Fragment,null,r.a.createElement("h2",{className:"pokemon-evolution-container__title"},"Evolution Chain"),r.a.createElement("div",{className:"pokemon-evolution-container__evolution-list"},o.evolution_chain.map(function(t){return r.a.createElement(R,{key:t.id,pokemon:t,history:e.history})}))):null))})),H=(n(145),{isLogging:!0,email:"",password:"",name:"",confPassword:"",passConfirmationError:!1,logginError:!1,emailError:!1,weakPass:!1}),X=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state=Object(M.a)({},H),n.handleChange=function(e,t){n.setState(Object(v.a)({},e,t))},n.handleBlurEmail=function(){var e=n.state.email;n.setState({emailError:!_(e)})},n.handleLoggin=function(){var e=n.state,t=e.email,a=e.password;(0,n.props.loggin)({email:t,password:a}),n.setState(Object(M.a)({},H))},n.handleRegister=function(){var e=n.state,t=e.email,a=e.name,r=e.password;(0,n.props.registerUser)({email:t,name:a,password:r}),n.setState(Object(M.a)({},H))},n.handleCancel=function(){n.setState(Object(M.a)({},H))},n.passConfirmation=function(){var e=n.state,t=e.password,a=e.confPassword;t&&a&&n.setState({passConfirmationError:t!==a})},n.strongPassValidator=function(){var e=n.state.password;n.setState({weakPass:!b(e)})},n.renderLogging=function(){var e=n.state,t=e.email,a=e.password,o=e.logginError,i=e.emailError;return r.a.createElement("div",{className:"landing-container__log-in"},r.a.createElement(f.g,{className:"landing-container__text-field",id:"email",label:"Email",error:i,errorText:"you should use a valid email",lineDirection:"center",onChange:function(e){return n.handleChange("email",e)},onBlur:n.handleBlurEmail,placeholder:"e.g: hello@hello.com",value:t}),r.a.createElement(f.g,{className:"landing-container__text-field",id:"password",label:"Password",lineDirection:"center",onChange:function(e){return n.handleChange("password",e)},type:"password",value:a}),o&&r.a.createElement("div",null,"User or Password are wrong"),r.a.createElement(f.a,{flat:!0,disabled:!t||!a||i,primary:!0,onClick:n.handleLoggin},"Log in"))},n.renderRegister=function(){var e=n.state,t=e.name,a=e.email,o=e.password,i=e.confPassword,l=e.passConfirmationError,s=e.emailError,c=e.weakPass;return r.a.createElement("div",{className:"landing-container__register"},r.a.createElement(f.g,{className:"landing-container__text-field",id:"name",label:"Trainer Name *",lineDirection:"center",onChange:function(e){return n.handleChange("name",e)},value:t}),r.a.createElement(f.g,{className:"landing-container__text-field",id:"email",label:"Email *",error:s,errorText:"you should use a valid email",lineDirection:"center",onBlur:n.handleBlurEmail,onChange:function(e){return n.handleChange("email",e)},placeholder:"e.g: hello@hello.com",value:a}),r.a.createElement(f.g,{className:"landing-container__text-field",id:"password",error:c,errorText:"Password must have 2 upper case letter, a length of 8 letters minimun a number and a special character",label:"Password *",lineDirection:"center",onChange:function(e){return n.handleChange("password",e)},onBlur:function(){n.passConfirmation(),n.strongPassValidator()},type:"password",value:o}),r.a.createElement(f.g,{className:"landing-container__text-field",id:"confPassword",label:"Confirm Password *",lineDirection:"center",error:l,errorText:"Passwords should be the same",onChange:function(e){return n.handleChange("confPassword",e)},onBlur:n.passConfirmation,type:"password",value:i}),r.a.createElement(f.a,{flat:!0,onClick:n.handleCancel},"Cancel"),r.a.createElement(f.a,{flat:!0,disabled:!t||!a||!o||!i||l||s,primary:!0,onClick:n.handleRegister},"Register"))},n.handleSwitchClick=function(e){e.preventDefault(),n.setState(Object(M.a)({},H,{isLogging:!n.state.isLogging}))},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loggedUser,n=e.history;t.logged&&!t.error&&n.push("/pokemons")}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,a=n.loggedUser,r=n.history;JSON.stringify(e.loggedUser)!==JSON.stringify(a)&&(a.logged&&!a.error?r.push("/pokemons"):!a.logged&&a.error&&this.setState({logginError:!0},function(){setTimeout(function(){t.setState({logginError:!1})},5e3)}))}},{key:"render",value:function(){var e=this.state.isLogging;return r.a.createElement("section",{className:"landing-container"},r.a.createElement("h1",{className:"landing-container__title"},"Welcome to your pokedex online"),e?this.renderLogging():this.renderRegister(),r.a.createElement("a",{className:"landing-container__switch",href:"",onClick:this.handleSwitchClick},e?r.a.createElement("span",null,"Register here"):r.a.createElement("span",null,"Log in")))}}]),t}(a.Component),Z=Object(l.b)(function(e){return{loggedUser:e.users.loggedInUser}},function(e){return Object(h.b)({loggin:x,registerUser:L},e)})(X),z=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{exact:!0,path:"/",component:Z}),r.a.createElement(c.a,{path:"/pokemons",component:W}),r.a.createElement(c.a,{path:"/pokemon/:id",component:$})))},Q=n(70),q=n(71),ee=n(21),te=n(47),ne=n.n(te),ae={registeredUsers:[{email:"asd@asd.com",password:"123",name:"adrian",id:ne()()}],loggedInUser:{logged:!1,error:!1}},re=function(e,t){var n=e.registeredUsers.find(function(e){return e.email===t.email&&e.password===t.password});return n?{email:n.email,name:n.name,id:n.id,logged:!0,error:!1}:{logged:!1,error:!0}},oe=function(e,t){var n=e.registeredUsers.find(function(e){return e.id===t.id});if(n){var a=e.registeredUsers.indexOf(n),r=Object(ee.a)(e.registeredUsers);return r[a]=Object(M.a)({},n,t),delete t.password,{registeredUsers:r,loggedInUser:Object(M.a)({},e.loggedInUser,t)}}return{registeredUsers:e.registeredUsers}};var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(M.a)({},e,{registeredUsers:[].concat(Object(ee.a)(e.registeredUsers),[Object(M.a)({},t.payload.user,{id:ne()()})])});case U:return Object(M.a)({},e,oe(e,t.payload.user));case S:return Object(M.a)({},e,{loggedInUser:re(e,t.payload.user)});case P:return Object(M.a)({},e,{loggedInUser:{logged:!1,error:!1}});default:return e}},le={pokemonList:[],pokemonListFiltered:[],pokemonCount:0,pokemon:{loading:!1,error:!1,data:{},evolution_chain:{}}};var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(M.a)({},e,{pokemonList:[].concat(Object(ee.a)(e.pokemonList),Object(ee.a)(t.payload.pokemons)),pokemonListFiltered:[].concat(Object(ee.a)(e.pokemonList),Object(ee.a)(t.payload.pokemons)),pokemonCount:t.payload.count});case O:return Object(M.a)({},e,{pokemon:Object(M.a)({},e.pokemon,{data:{},error:!1,evolution_chain:{},loading:!0})});case w:return Object(M.a)({},e,{pokemon:Object(M.a)({},e.pokemon,{data:t.payload.pokemon,error:!1,evolution_chain:t.payload.evolution_chain,loading:!1})});case j:return Object(M.a)({},e,{pokemon:Object(M.a)({},e.pokemon,{data:{},error:!0,evolution_chain:{},loading:!1})});case C:return Object(M.a)({},e,{pokemonListFiltered:e.pokemonList.filter(function(e){return new RegExp(t.payload,"gi").test(e.name)})});default:return e}},ce=Object(h.c)({pokemons:se,users:ie}),me=Object(q.createLogger)(),de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,ue=Object(h.e)(ce,{},de(Object(h.a)(Q.a),Object(h.a)(me)));n(148),n(149),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,{store:ue},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,n){e.exports=n(150)}},[[72,1,2]]]);
//# sourceMappingURL=main.38db0757.chunk.js.map